@use "scss/utils/mixins" as *;

.select {
    position: relative;
    z-index: 200;
    width: 100%;


    &__dropdown {
        position: absolute;
        top: calc(100% - 1px);

        overflow: hidden;
        display: none;

        width: 100%;
        padding-top: 0.8rem;
    }

    &__list {
        display: flex;
        flex-direction: column;
        align-items: stretch;

        width: 100%;
        overflow: hidden;

        background-color: #fff;
        border-radius: 0.8rem;
        border: 1px solid var(--color-olive, #babd71);
    }

    &__item {
        &:not(:first-child) {
            .select__label {
                @include breakpointMF(laptop) {
                    border-bottom: 1px solid var(--color-olive, #babd71);
                }
            }
        }

        &--first-hidden {
            &:first-child {
                display: none;
            }
        }
    }

    &__label {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 1.6rem;

        width: 100%;
        padding: 0.8rem 1rem;

        color: var(--color-olive, #babd71);
        font-size: 1.2rem;
        font-style: normal;
        font-weight: 400;
        line-height: 100%;

        transition: var(--transition);
        transition-property: background, border;
        cursor: pointer;
        white-space: nowrap;

        @include breakpointMF(laptop) {
            padding: 1rem 1.2rem;
        }

        &:has(input[type="radio"]:checked) {
            background-color: var(--color-light-pink, #f3bfb6);

            &::after {
                border-width: 0;
                background-image: url('data:image/svg+xml, %3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2220%22%20height%3D%2220%22%20viewBox%3D%220%200%2020%2020%22%20fill%3D%22none%22%3E%0A%20%20%3Crect%20width%3D%2220%22%20height%3D%2220%22%20rx%3D%2210%22%20fill%3D%22%23D42111%22%2F%3E%0A%20%20%3Cpath%20d%3D%22M8.00006%2011.587L5.70106%209.29197L4.28906%2010.708L8.00206%2014.413L14.7081%207.70697L13.2941%206.29297L8.00006%2011.587Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E');
                background-size: contain;
                background-repeat: no-repeat;
                background-position: center;
            }
        }

        &>input[type="checkbox"],
        &>input[type="radio"] {
            @include visuallyHidden();
        }

        @include hoverActive() {
            background-color: var(--color-send, #fef098);
        }

        input[type="radio"],
        input[type="checkbox"] {
            &:checked {
                &~.select__tick {
                    opacity: 1;
                }
            }
        }
    }

    &__text {
        display: block;
        flex: 1 1 auto;
        color: var(--Black, #141414);
    }

    &__tick {
        display: none;
        flex-shrink: 0;

        width: 2.4rem;
        height: 2.4rem;

        fill: var(--Grey-1, #666);
        transition: var(--transition);
        transition-property: opacity;
        opacity: 0;

        @include breakpointMF(laptop) {
            display: block;
        }
    }

    &__current {
        position: relative;

        display: flex;
        align-items: center;
        justify-content: flex-start;

        width: 100%;
        height: 3.2rem;
        padding: 0.8rem 1rem;

        border: none;
        outline: none;

        color: var(--color-olive, #babd71);
        font-size: 1.2rem;
        font-style: normal;
        font-weight: 400;
        line-height: 100%;

        background: #FFF;
        border-radius: 0.8rem;
        box-shadow: 1px 1px 4px 0 rgba(105, 72, 33, 0.20);

        @include breakpointMF(laptop) {
            padding: 1rem 1.2rem;
        }

        &::after {
            position: absolute;
            top: 50%;
            right: 1.3rem;

            display: block;

            width: 1.7rem;
            height: 1rem;
            transform: translateY(-50%) rotate(0deg);

            background-image: url("data:image/svg+xml, %3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%2234%22%20height%3D%2234%22%20viewBox%3D%220%200%2034%2034%22%20fill%3D%22none%22%3E%0A%20%20%3Cpath%20d%3D%22M22.9281%2014.6221L16.6863%2020.8638L10.4446%2014.6221%22%20stroke%3D%22%23BABD71%22%20stroke-width%3D%223%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%2F%3E%0A%3C%2Fsvg%3E");
            background-size: auto;
            background-repeat: no-repeat;
            background-position: center;

            // opacity: 0.4;
            transition: transform var(--transition);
            content: "";
        }
    }

    &.select--open {
        z-index: 1000;

        .select__current {
            &::after {
                transform: translateY(-50%) rotate(180deg);
            }
        }

        .select__dropdown {
            display: block;

            @include breakpoint(tablet) {
                display: flex;
            }
        }

        .select__list {
            @include breakpointMF(laptop) {
                animation: slideDown 0.3s ease 0s 1 forwards;
            }
        }
    }
}

@keyframes slideDown {
    0% {
        transform: translateY(-100%);
        opacity: 0;
    }

    100% {
        transform: translateY(0);
        opacity: 1;
    }
}
